/* évite @import; préfère un <link> dans <head> ou une police système */
.brand3d {
  position: relative;
  display: inline-block;
  perspective: 600px;
  transform-style: preserve-3d;
  animation: wobble 6s ease-in-out infinite;
  will-change: transform;
}

.brand3d__text,
.brand3d__layer {
  display: block;
  line-height: 1;
  text-transform: uppercase;
  font: 900 clamp(20px, 3vw, 28px) "Concert One", system-ui, sans-serif;
  color: #0a0a0a;
  /* stroke: Chrome/Edge/Safari; ignoré par Firefox (fallback plus bas) */
  -webkit-text-stroke: 1px #fff;
  /* glow doux (évite les grosses ombres qui flinguent les perfs) */
  text-shadow: 0 0 12px rgba(255, 0, 0, .35);
}

.brand3d__layer {
  position: absolute;
  inset: 0;
  transform: translateZ(calc(var(--i) * 3px));
  pointer-events: none; /* n’obstrue pas les clics du menu */
}

/* wobble */
@keyframes wobble {
  0%,100% { transform: rotate3d(1,1,0,35deg); }
  25%     { transform: rotate3d(-1,1,0,35deg); }
  50%     { transform: rotate3d(-1,-1,0,35deg); }
  75%     { transform: rotate3d(1,-1,0,35deg); }
}

/* Réduction des animations si l’utilisateur l’a demandé */
@media (prefers-reduced-motion: reduce) {
  .brand3d { animation: none !important; }
}

/* Fallback Firefox (pas de text-stroke) : pseudo-contour via text-shadow */
@supports not (-webkit-text-stroke: 1px #fff) {
  .brand3d__text, .brand3d__layer {
    text-shadow:
      1px 0 0 #fff, -1px 0 0 #fff,
      0 1px 0 #fff,  0 -1px 0 #fff,
      0 0 12px rgba(255,0,0,.35);
  }
}
