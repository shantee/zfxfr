---
import { Icon } from "astro-icon/components";

// On définit à quoi ressemble un "Post" (adapté aux collections de contenu Astro)
export interface Props {
  prevPost?: {
    data: { title: string };
    slug: string;
  } | null;
  nextPost?: {
    data: { title: string };
    slug: string;
  } | null;
}

const { prevPost, nextPost } = Astro.props;
---

<div class="mt-8 grid grid-cols-1 gap-4 md:grid-cols-2">
  {/* BLOC ARTICLE PRÉCÉDENT (Plus ancien) */}
  {
    prevPost ? (
      <a
        href={`/posts/${prevPost.slug}/`}
        class="group relative flex h-full flex-col justify-center rounded-lg border border-gray-200 bg-gray-50 p-4 transition-all hover:border-[var(--primary-color)] hover:bg-[var(--primary-color-lighten)] dark:border-gray-700 dark:bg-[var(--card-color)] dark:hover:border-[var(--primary-color)]"
      >
        <div class="mb-1 flex items-center gap-2 text-sm text-[var(--text-color-lighten)]">
          <Icon name="mdi:arrow-left" class="transition-transform group-hover:-translate-x-1" />
          <span>Article Précédent</span>
        </div>
        <p class="font-bold text-[var(--text-color)] line-clamp-2">
          {prevPost.data.title}
        </p>
      </a>
    ) : (
      /* Bloc vide pour garder l'alignement si pas de précédent */
      <div class="hidden md:block" />
    )
  }

  {/* BLOC ARTICLE SUIVANT (Plus récent) */}
  {
    nextPost ? (
      <a
        href={`/posts/${nextPost.slug}/`}
        class="group relative flex h-full flex-col justify-center items-end rounded-lg border border-gray-200 bg-gray-50 p-4 text-right transition-all hover:border-[var(--primary-color)] hover:bg-[var(--primary-color-lighten)] dark:border-gray-700 dark:bg-[var(--card-color)] dark:hover:border-[var(--primary-color)]"
      >
        <div class="mb-1 flex items-center gap-2 text-sm text-[var(--text-color-lighten)]">
          <span>Article Suivant</span>
          <Icon name="mdi:arrow-right" class="transition-transform group-hover:translate-x-1" />
        </div>
        <p class="font-bold text-[var(--text-color)] line-clamp-2">
          {nextPost.data.title}
        </p>
      </a>
    ) : (
      <div />
    )
  }
</div>